# 海运管理系统 - 项目背景

## 系统定位
海运管理系统，主要用来追踪海运订单的物流信息。

## 上游系统集成
该系统对接三个上游系统：
- **OSJ**：可以申请入库单，把订单推送至海运系统
- **B2B**：可以申请入库单，把订单推送至海运系统
- **3PL**：可以申请入库单，把订单推送至海运系统

## 订单业务维度

### 国别（5个）
- 美国
- 加拿大
- 英国
- 德国
- 日本

### 订单类型（3个）
- 非自发
- 自发
- LOCAL

## 订单状态流转

| 操作 | 状态流转 | 状态描述 | 备注 |
| --- | --- | --- | --- |
| 上游申请入库单 | 待分区 | 正常状态 | |
| 分配区域/区域驳回 | 待分区→待排船/分区驳回 | 正常状态/反向完结状态 | |
| 排船审核/排船驳回 | 待排船→待确认发船/排船驳回 | 正常状态/反向完结状态 | |
| 录入SO | 待确认发船→确认发船中 | 正常状态 | |
| 取消SO | 确认发船中→待确认发船(回退) | 正常状态 | |
| 填写实际离港日ATD | 确认发船中→海运中 | 正常状态 | |
| 填写实际到港日ATA | 海运中→已到港 | 正常状态 | |
| 填写实际到仓日 | 已到港→已到仓 | 正常状态 | |
| 填写空箱时间和仓库上架时间 | 已到仓→空箱待还 | 正常状态 | |
| 填写还柜时间 | 空箱待还→完成 | 正向完结状态 | 海运中状态之后，一次性填完控制状态变更的字段，可以是订单直接流转至对应的状态 |

## 核心业务特点
- 订单状态是单向流转的（除少数反向操作和回退操作）
- 上游系统是订单的来源
- 状态流转涉及多个时间节点（ATD、ATA、到仓日、空箱时间、上架时间、还柜时间）
